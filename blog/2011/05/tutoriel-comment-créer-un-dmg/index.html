<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.53" />

    
    
    

<title>Tutoriel : Comment créer un DMG • Gildas Cuisinier</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Tutoriel : Comment créer un DMG"/>
<meta name="twitter:description" content="Les utilisateurs de Mac utilisent souvent de type de fichier, qui sont en fait des images disques (comme des .iso) qui peuvent être montées et qui apparaitront comme un nouveau disque sous Mac OS X.

Ce type de fichier est très souvent utilisé sous Mac comme moyen d&rsquo;installer des logiciels.
Afin de fournir un Bundle pour OpenJDK pour Mac OS X, j&rsquo;ai voulu regarder de plus près comment faire pour créer un tel fichier."/>

<meta property="og:title" content="Tutoriel : Comment créer un DMG" />
<meta property="og:description" content="Les utilisateurs de Mac utilisent souvent de type de fichier, qui sont en fait des images disques (comme des .iso) qui peuvent être montées et qui apparaitront comme un nouveau disque sous Mac OS X.

Ce type de fichier est très souvent utilisé sous Mac comme moyen d&rsquo;installer des logiciels.
Afin de fournir un Bundle pour OpenJDK pour Mac OS X, j&rsquo;ai voulu regarder de plus près comment faire pour créer un tel fichier." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.gcuisinier.net/blog/2011/05/tutoriel-comment-cr%C3%A9er-un-dmg/" /><meta property="article:published_time" content="2011-05-11T08:00:00&#43;01:00"/>
<meta property="article:modified_time" content="2011-05-11T08:00:00&#43;01:00"/>


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.9b47255fe7feae0b7a7befc8c22902cc12b602757ee6a841471810f413cdcf33.css" integrity="sha256-m0clX&#43;f&#43;rgt6e&#43;/IwikCzBK2AnV&#43;5qhBRxgQ9BPNzzM=">


<link rel="stylesheet" href="/scss/print.5aa4005c7565ec5b66c62cd79012c5cad1081f3332793145a8d3861a26391697.css" integrity="sha256-WqQAXHVl7FtmxizXkBLFytEIHzMyeTFFqNOGGiY5Fpc=" media="print">


<link rel="stylesheet" href="static-css/hover-min.css" media="screen">




    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="icon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="icon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="icon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="icon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="icon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="icon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="icon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="icon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="icon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="icon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="icon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16x16.png">
<link rel="manifest" href="icon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="icon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff">
    

</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container  vertical-center">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.gcuisinier.net">Gildas Cuisinier</a>
      </span>
      <small class="text-center center-block">&lt;dev&gt;SomeWhere&lt;ops&gt;</small>
      
      
        
        
        
        <div class="author-image hvr-rotate">
          <img src="https://www.gcuisinier.net/img/gcuisinier.jpg" alt="Author Image" class="img--circle img--headshot element--center">
        </div>
        
      
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Gildas Cuisinier</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/about/" class="hvr-push">
						<span>About</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/posts/" class="hvr-push">
						<span>Blog</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/portfolio/" class="hvr-push">
						<span>Projects</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	<a href="https://twitter.com/gcuisinier" rel="me"><i class="fab fa-twitter fa-lg hvr-push" aria-hidden="true"></i></a>
	
	
	
	<a href="https://github.com/gcuisinier" rel="me"><i class="fab fa-github fa-lg hvr-push" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	
	
	<a href="https://keybase.io/gcuisinier" rel="me"><i class="fab fa-keybase fa-lg hvr-push" aria-hidden="true"></i></a>
	
	
	
	&nbsp;<a href="https://about.me/gcuisinier"><i class="fas fa-address-card fa-lg hvr-push" aria-hidden="true"></i></a>
	
	
	&nbsp;<a href="https://hub.docker.com/u/gcuisinier"><i class="fab fa-docker fa-lg hvr-push" aria-hidden="true"></i></a>
	
	
	
	
	<a href="mailto:contact%20[at]%20gcuisinier.net" rel="me"><i class="fas fa-envelope fa-lg hvr-push" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    

<div class="builtwith">
Built with <a href="https://gohugo.io">Hugo</a> ❤️ <a href="https://github.com/htr3n/hyde-hyde">hyde-hyde</a>.
</div>


  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1>Tutoriel : Comment créer un DMG</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> May 11, 2011
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/osx">osx</a>
           
      
          <a class="badge badge-tag" href="/tags/packaging">packaging</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 3 min read
</div>


  </header>
  
  
  <div class="post">
    <p>Les utilisateurs de Mac utilisent souvent de type de fichier, qui sont en fait des images disques (comme des .iso) qui peuvent être montées et qui apparaitront comme un nouveau disque sous Mac OS X.</p>

<p>Ce type de fichier est très souvent utilisé sous Mac comme moyen d&rsquo;installer des logiciels.
Afin de fournir un Bundle pour OpenJDK pour Mac OS X, j&rsquo;ai voulu regarder de plus près comment faire pour créer un tel fichier.</p>

<h2 id="créer-le-dmg">Créer le dmg</h2>

<p>La première étape consiste à créer un fichier .dmg via l&rsquo;utilitaire de disque, via le bouton &ldquo;Nouvelle Image&rdquo; :</p>

<p><a href="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.01.57.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.01.57-300x251.png" alt="" title="Utilitaire de disque" width="300" height="251" class="aligncenter size-medium wp-image-242" /></a></p>

<p>La nouvelle fenêtre permet de spécifier le type d&rsquo;image que l&rsquo;on souhaite :</p>

<p><a href="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.02.25.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.02.25-300x260.png" alt="" title="Création d&# 039;une image" width="300" height="260" class="aligncenter size-medium wp-image-244" /></a></p>

<ul>
<li>Nom : Le nom de l&rsquo;image une fois montée</li>
<li>Taille : La taille maximum du conteneur, il est nécessaire de mettre suffisamment de place, voir trop. L&rsquo;image finale sera réduite plus tard</li>
<li>Format : Mac OS X Etendu</li>
<li>Chiffrement : Aucun</li>
<li>Partition : Partition unique - Table de partition Apple</li>
<li>Format d&rsquo;image : Image disque en lecture / écriture</li>
</ul>

<p>Le format d&rsquo;image en lecture / écriture sera modifié plus tard afin de ne pas laisser au &ldquo;utilisateur&rdquo; de modifier une image .dmg fournie.</p>

<h2 id="remplir-le-dmg">Remplir le DMG</h2>

<p>Une fois le DMG créé, il est monté et visible sur le bureau :</p>

<p><a href="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.25.15.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.25.15-300x234.png" alt="" title="Image disque montée" width="300" height="234" class="aligncenter size-medium wp-image-247" /></a></p>

<p>Il suffit de l&rsquo;ouvrir pour afficher son contenu, vide pour l&rsquo;instant, et de le modifier comme n&rsquo;importe quel répertoire</p>

<h2 id="modifier-son-icone">Modifier son icone</h2>

<p>Comme pour n&rsquo;importe quel fichier sous Mac, il est possible de modifier l&rsquo;icone du volume une fois monté.
Pour cela, il faut tout d&rsquo;abord ouvrir l&rsquo;image que l&rsquo;on souhaite utilisé comme icone avec l&rsquo;<strong>Aperçu</strong>.</p>

<p>Dans celui-ci, faire <i>Command+A</i> pour sélectionner l&rsquo;image, puis <i>Command+C</i> pour copier celle-ci.</p>

<p>Une fois cela fait, aller sur le bureau, click-droit sur l&rsquo;icone de votre image montée et sélectionner &ldquo;Lire les informations&rdquo;</p>

<p><a href="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.47.31.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/04/Capture-d’écran-2011-04-25-à-21.47.31-288x300.png" alt="" title="Lire les informations" width="288" height="300" class="aligncenter size-medium wp-image-249" /></a></p>

<p>Cliquer ensuite sur l&rsquo;icone tout en haut à gauche de la fenêtre qui vient de s&rsquo;ouvrir, et faire <i>Command+V</i>
Cette dernière devrait être devenue l&rsquo;image que vous avez choisie.</p>

<h2 id="modifier-l-arrière-plan">Modifier l&rsquo;arrière plan</h2>

<p>Il est également possible de modifier l&rsquo;arrière plan de la fenêtre qui sera ouverte lors de l&rsquo;accès au volume.
Voici par exemple à quoi ressemble l&rsquo;image OpenJDK :</p>

<p><a href="http://blog.hikage.be/wp-content/uploads/2011/05/openjdk.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/05/openjdk-296x300.png" alt="" title="openjdk" width="296" height="300" class="aligncenter size-medium wp-image-253" /></a></p>

<p>Pour cela, il faut que l&rsquo;image soit elle même présente dans le DMG, mais que le fichier lui même ne soit pas visible.
Pour cela, il suffit de créer un répertoire <strong>.background</strong> dans lequel nous viendront mettre l&rsquo;image.</p>

<p>Ensuite, à la racine du volume monté, il suffit de faire un click-droit et de séléctionner &ldquo;Afficher les options de présentation&rdquo; :
<a href="http://blog.hikage.be/wp-content/uploads/2011/05/option-de-presentation.png"><img src="http://blog.hikage.be/wp-content/uploads/2011/05/option-de-presentation-147x300.png" alt="" title="option de presentation" width="147" height="300" class="aligncenter size-medium wp-image-254" /></a></p>

<p>Dans la section &ldquo;Arrière plan&rdquo; il suffira de faire glisser l&rsquo;image du répertoire .background dans l&rsquo;espace &ldquo;Faire glisser ici&rdquo;.</p>

<h2 id="finaliser-l-image">Finaliser l&rsquo;image</h2>

<p>Une fois que le Volume contient les fichiers que vous souhaitez publier et que la présentation vous convient, il faut finaliser l&rsquo;image.</p>

<p>Pour cela, nous retournons dans l&rsquo;utilitaire de disque, dans la frame de gaucher, selectionnez le dmg que vous venez de créer, et cliquez sur &ldquo;Convertir&rdquo; dans le menu du haut.</p>

<p>Sélectionner le format &ldquo;Compressé&rdquo;, et cliquez sur OK.
Le nouveau DMG sera réduit à la taille que vous utilisez rééllement, et ne pourra plus être modifié.</p>

<p>Il est donc prêt à être livrer !</p>

<h2 id="amélioration">Amélioration</h2>

<p>Si il est facile de créer un DMG de cette manière, cela demande de nombreuse manipulation par le développeur.
Dans un prochain article, j&rsquo;expliquerai comment il est possible de scripter la création de ce DMG.</p>
  </div>
  

<div class="navigation navigation-single">
    
    <a href="/blog/2010/04/feedback-switch-pc-vers-mac/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Feedback : Switch PC vers Mac</span>
    </a>
    
    
    <a href="/blog/2012/03/pr%C3%A9sentation-de-xdt4j/" class="navigation-next">
      <span class="navigation-tittle">Présentation de xdt4j</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    


</article>


        </div>
        
    


<script async src="https://www.googletagmanager.com/gtag/js?id=UA-132470679-1"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-132470679-1');
</script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
    
    <script type="text/javascript">
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
